<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UAScoin Game</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background: url('background.png') no-repeat center center fixed;
      background-size: cover;
      color: white;
      text-align: center;
    }
    #tap-count {
      font-size: 2.5rem;
      text-shadow: 0 0 5px black;
      margin-top: 20px;
    }
    #coin {
      width: 240px;
      height: 240px;
      margin: 20px auto;
      display: block;
      transition: transform 0.2s ease;
    }
    #coin:active {
      transform: scale(1.1);
    }
    #energy-bar {
      background-color: rgba(255,255,255,0.2);
      border: 1px solid white;
      border-radius: 10px;
      width: 80%;
      margin: 10px auto;
      padding: 5px;
    }
    #energy-fill {
      height: 20px;
      background-color: limegreen;
      border-radius: 8px;
      width: 100%;
    }
    .tabs {
      display: flex;
      justify-content: space-around;
      position: fixed;
      bottom: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.8);
      padding: 10px 0;
    }
    .tab-btn {
      color: white;
      font-size: 1.1rem;
      border: none;
      background: transparent;
      padding: 8px 12px;
      cursor: pointer;
    }
    .tab-content {
      display: none;
      padding-bottom: 100px;
    }
    .tab-content.active {
      display: block;
    }
    .skin-card, .referral-box {
      border: 1px solid #ccc;
      background: rgba(255,255,255,0.85);
      color: black;
      margin: 1rem;
      padding: 1rem;
      border-radius: 12px;
    }
  </style>
</head>
<body>
  <h1 id="tap-count">0</h1>
  <img id="coin" src="bronze_coin.png" alt="Tap Coin" />
  <div id="energy-bar"><div id="energy-fill"></div></div>  <div id="earn" class="tab-content active"></div>
  <div id="skins" class="tab-content"></div>
  <div id="leaderboard" class="tab-content">Coming Soon</div>
  <div id="referrals" class="tab-content"></div>  <div class="tabs">
    <button class="tab-btn" onclick="switchTab('earn')">Earn</button>
    <button class="tab-btn" onclick="switchTab('skins')">Skins</button>
    <button class="tab-btn" onclick="switchTab('leaderboard')">Leaderboard</button>
    <button class="tab-btn" onclick="switchTab('referrals')">Referrals</button>
  </div>  <script>
    let tapCount = parseInt(localStorage.getItem("tapCount")) || 0;
    let energy = parseInt(localStorage.getItem("energy")) || 1000;
    let ownedSkins = JSON.parse(localStorage.getItem("ownedSkins")) || [];
    let currentSkin = localStorage.getItem("currentSkin") || null;
    const userId = localStorage.getItem("userId") || Math.random().toString(36).substring(2, 10);
    localStorage.setItem("userId", userId);

    const refParam = new URLSearchParams(window.location.search).get("ref");
    if (refParam && !localStorage.getItem("referrer")) {
      localStorage.setItem("referrer", refParam);
      // Simulate referrer reward
      let team = JSON.parse(localStorage.getItem("referralTeam_" + refParam) || "[]");
      team.push(userId);
      localStorage.setItem("referralTeam_" + refParam, JSON.stringify(team));
      localStorage.setItem("tapCount", tapCount + 1000);
    }

    const coin = document.getElementById("coin");
    const tapCountDisplay = document.getElementById("tap-count");
    const energyFill = document.getElementById("energy-fill");

    function updateDisplay() {
      tapCountDisplay.innerText = tapCount;
      energyFill.style.width = (energy / 1000) * 100 + "%";
      coin.src = getCurrentCoinImage();
    }

    function handleTap() {
      if (energy <= 0) return alert("No energy left!");
      tapCount++;
      energy--;
      localStorage.setItem("tapCount", tapCount);
      localStorage.setItem("energy", energy);
      updateDisplay();
    }

    function switchTab(tab) {
      document.querySelectorAll(".tab-content").forEach(el => el.classList.remove("active"));
      document.getElementById(tab).classList.add("active");
    }

    function getLeagueSkin() {
      if (tapCount >= 200000000) return "vibranium_coin.png";
      if (tapCount >= 100000000) return "adamantium_coin.png";
      if (tapCount >= 50000000) return "platinum_coin.png";
      if (tapCount >= 1000000) return "diamond_coin.png";
      if (tapCount >= 500000) return "gold_coin.png";
      if (tapCount >= 10000) return "silver_coin.png";
      return "bronze_coin.png";
    }

    function getCurrentCoinImage() {
      const skins = [
        { id: 1, image: "bronze_coin.png" },
        { id: 2, image: "silver_coin.png" },
        { id: 3, image: "gold_coin.png" },
      ];
      const skin = skins.find(s => s.id == currentSkin);
      if (skin && ownedSkins.includes(skin.id)) return skin.image;
      return getLeagueSkin();
    }

    function setupReferralTab() {
      document.getElementById("referrals").innerHTML = `
        <div class="referral-box">
          <h3>Your Referral Code:</h3>
          <p>${userId}</p>
          <p>Share this link:</p>
          <input value="${window.location.origin}?ref=${userId}" readonly style="width: 90%" />
        </div>
        <div class="referral-box">
          <h3>Your Referral Team:</h3>
          <ul>
            ${(JSON.parse(localStorage.getItem("referralTeam_" + userId) || "[]").map(u => `<li>${u}</li>`).join("")) || '<li>No referrals yet</li>'}
          </ul>
        </div>`;
    }

    coin.addEventListener("click", handleTap);
    document.addEventListener("DOMContentLoaded", () => {
      setupReferralTab();
      updateDisplay();
    });
  </script></body>
</html>
